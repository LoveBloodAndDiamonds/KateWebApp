[Unit]
Description=Web application for Kate
After=network.target

[Service]
ExecStartPre=apt install python3-pip
ExecStartPre=/usr/bin/pip3 install poetry
ExecStartPre=/usr/local/bin/poetry install
ExecStartPre=/usr/local/bin/poetry shell
ExecStartPre=uvicorn app.__main__:app
WorkingDirectory=/root/KateWebApp
Restart=always
User=root

[Install]
WantedBy=multi-user.target